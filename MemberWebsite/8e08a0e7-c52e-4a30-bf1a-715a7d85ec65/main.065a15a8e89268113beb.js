"use strict";(self.webpackChunkbuilder=self.webpackChunkbuilder||[]).push([[63],{274:(e,t,r)=>{r.d(t,{W:()=>d});var n=r(966),a=r.n(n),i=r(795),o=["className","children"],l=["className","children"],c=["children","innerClassName"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var m=(0,n.forwardRef)((function(e,t){var r=e.className,n=e.children,l=u(e,o);return a().createElement("div",s({ref:t,className:(0,i.Z)("sm:px-8",r)},l),a().createElement("div",{className:"mx-auto max-w-7xl lg:px-8"},n))})),f=(0,n.forwardRef)((function(e,t){var r=e.className,n=e.children,o=u(e,l);return a().createElement("div",s({ref:t,className:(0,i.Z)("relative px-4 sm:px-8 lg:px-12",r)},o),a().createElement("div",{className:"mx-auto max-w-2xl lg:max-w-5xl"},n))})),d=(0,n.forwardRef)((function(e,t){var r=e.children,n=e.innerClassName,i=u(e,c);return a().createElement(m,s({ref:t},i),a().createElement(f,{className:n},r))}));d.Outer=m,d.Inner=f},63:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var n=r(966),a=r.n(n),i=r(938),o=r(822),l=r(274),c=r(260),s=r(39),u=r(795),m=r(797),f=["className"];function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function p(e){return a().createElement("svg",v({viewBox:"0 0 24 24","aria-hidden":"true"},e),a().createElement("path",{d:"m17.25 6.75-10.5 10.5M6.75 6.75l10.5 10.5",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}function b(e){return a().createElement("svg",v({viewBox:"0 0 8 6","aria-hidden":"true"},e),a().createElement("path",{d:"M1.75 1.75 4 4.25l2.25-2.5",fill:"none",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}function h(e){var t=e.href,r=e.label;return a().createElement("li",null,a().createElement(i.J.Button,{as:c.Link,to:t,className:"block py-2"},r))}function g(e){var t=e.className,r=e.links;return a().createElement(i.J,{className:t},a().createElement(i.J.Button,{className:"group flex items-center rounded-full bg-white/90 px-4 py-2 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10 dark:hover:ring-white/20"},(0,m.localize)({en:"Menu",fr:"Menu"}),a().createElement(b,{className:"ml-3 h-auto w-3 stroke-zinc-500 group-hover:stroke-zinc-700 dark:group-hover:stroke-zinc-400"})),a().createElement(o.u.Root,null,a().createElement(o.u.Child,{as:n.Fragment,enter:"duration-150 ease-out",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"duration-150 ease-in",leaveFrom:"opacity-100",leaveTo:"opacity-0"},a().createElement(i.J.Overlay,{className:"fixed inset-0 z-50 bg-zinc-800/40 backdrop-blur-sm dark:bg-black/80"})),a().createElement(o.u.Child,{as:n.Fragment,enter:"duration-150 ease-out",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"duration-150 ease-in",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95"},a().createElement(i.J.Panel,{focus:!0,className:"fixed inset-x-4 top-8 z-50 origin-top rounded-3xl bg-white p-8 ring-1 ring-zinc-900/5 dark:bg-zinc-900 dark:ring-zinc-800"},a().createElement("div",{className:"flex flex-row-reverse items-center justify-between"},a().createElement(i.J.Button,{"aria-label":"Close menu",className:"-m-1 p-1"},a().createElement(p,{className:"h-6 w-6 text-zinc-500 dark:text-zinc-400"})),a().createElement("h2",{className:"text-sm font-medium text-zinc-600 dark:text-zinc-400"},(0,m.localize)({en:"Navigation",fr:"Navigation"}))),a().createElement("nav",{className:"mt-6"},a().createElement("ul",{className:"-my-2 divide-y divide-zinc-100 text-base text-zinc-800 dark:divide-zinc-100/5 dark:text-zinc-300"},r.map((function(e,t){return a().createElement(h,v({key:t},e))}))))))))}function y(e){var t=e.href,r=e.label,n=e.activeRoute,i=e.index,o=n===t||""===n&&0===i;return a().createElement("li",null,a().createElement(c.Link,{to:t,className:"truncate relative block px-3 py-2 transition ".concat(o?"text-teal-500 dark:text-teal-400":"hover:text-teal-500 dark:hover:text-teal-400")},r,o&&a().createElement("span",{className:"absolute inset-x-1 -bottom-px h-px bg-gradient-to-r from-teal-500/0 via-teal-500/40 to-teal-500/0 dark:from-teal-400/0 dark:via-teal-400/40 dark:to-teal-400/0"})))}function x(e){var t=e.className,r=e.links,n=e.activeRoute;return a().createElement("nav",{className:t},a().createElement("ul",{className:"flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10"},r.map((function(e,t){return a().createElement(y,v({key:t},e,{activeRoute:n,index:t}))}))))}function E(e,t,r){var n=Math.min(t,r),a=Math.max(t,r);return Math.min(Math.max(e,n),a)}function w(e){var t=e.className,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,f);return a().createElement("div",v({className:(0,u.Z)(t,"h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:ring-white/10")},r))}function k(e){var t=e.large,r=void 0!==t&&t,n=e.className,i=e.style,o=e.memberId,l=e.version;return a().createElement(m.SmartLink,{to:"",ariaLabel:"Home",className:(0,u.Z)(n,"pointer-events-auto"),style:i},a().createElement("div",{className:(0,u.Z)("rounded-full bg-zinc-100 object-cover dark:bg-zinc-800",r?"h-16 w-16":"h-9 w-9")},a().createElement(m.ProfileImage,{contentType:"members",viewType:"profile",contentId:o,version:l,type:"avatar",rounded:!0})))}var O=function(e){var t=e.setLang,r=e.activeLang,n=e.activeRoute,i=e.targetRoute;return a().createElement("button",{type:"button","aria-label":"Switch page language",className:"group rounded-full bg-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:bg-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20",onClick:function(e){e.preventDefault(),t("en"===r?"fr":"en",n,i)}},a().createElement("span",{className:"h-6 w-6 transition text-zinc-400 group-hover:text-zinc-600 dark:text-zinc-400 dark:group-hover:text-zinc-50"},"en"===r?"FR":"EN"))};function N(e){var t,r,i,o,c=e.main,u=e.activeRoute,f=e.targetRoute,v=e.documents,p=e.activeLang,b=e.dataSource,h=e.language,y=e.setLang,N=(0,n.useRef)(),j=(0,n.useRef)(),z=(0,n.useRef)(!0),P=(i=(0,n.useState)(""),o=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(i,o)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(i,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),S=P[0],L=P[1],R=(null==c||null===(t=c.body)||void 0===t?void 0:t.links)||[];R=R.map((function(e){return{href:"/"===e.href?"":(0,m.findLink)(e.href,v,p),label:e.label}}));var _=""===u||u===(null===(r=R[0])||void 0===r?void 0:r.href);return(0,n.useEffect)((function(){b.id&&(0,s.bG)(b.id,"membership_information").then((function(e){var t=e.avatar;L(t||"")}))}),[b.id]),(0,n.useEffect)((function(){var e,t,r=null!==(e=null===(t=j.current)||void 0===t?void 0:t.offsetTop)&&void 0!==e?e:0;function n(e,t){document.documentElement.style.setProperty(e,t)}function a(e){document.documentElement.style.removeProperty(e)}function i(){!function(){var e=N.current.getBoundingClientRect(),t=e.top,i=e.height,o=E(window.scrollY,0,document.body.scrollHeight-window.innerHeight);if(z.current&&n("--header-position","sticky"),n("--content-offset","".concat(r,"px")),z.current||o<r)n("--header-height","".concat(r+i,"px")),n("--header-mb","".concat(-r,"px"));else if(t+i<-64){var l=Math.max(i,o-64);n("--header-height","".concat(l,"px")),n("--header-mb","".concat(i-l,"px"))}else 0===t&&(n("--header-height","".concat(o+i,"px")),n("--header-mb","".concat(-o,"px")));0===t&&o>0&&o>=r?(n("--header-inner-position","fixed"),a("--header-top"),a("--avatar-top")):(a("--header-inner-position"),n("--header-top","0px"),n("--avatar-top","0px"))}(),function(){if(_){var e=36/64,t=2/16,a=r-window.scrollY,i=.4375*a/r+e;i=E(i,1,e);var o=a*(0-t)/r+t;o=E(o,0,t),n("--avatar-image-transform","translate3d(".concat(o,"rem, 0, 0) scale(").concat(i,")"));var l=1/(e/i);n("--avatar-border-transform","translate3d(".concat((-t+o)*l,"rem, 0, 0) scale(").concat(l,")")),n("--avatar-border-opacity",i===e?1:0)}}(),z.current=!1}return i(),window.addEventListener("scroll",i,{passive:!0}),window.addEventListener("resize",i),function(){window.removeEventListener("scroll",i),window.removeEventListener("resize",i)}}),[_]),console.log("isHomePage",_),a().createElement(a().Fragment,null,a().createElement("header",{className:"pointer-events-none relative z-50 flex flex-col",style:{height:"var(--header-height)",marginBottom:"var(--header-mb)"}},_&&a().createElement(a().Fragment,null,a().createElement("div",{ref:j,className:"order-last"}),a().createElement(l.W,{className:"top-0 order-last -mb-3 pt-3",style:{position:"var(--header-position)"}},a().createElement("div",{className:"top-[var(--avatar-top,theme(spacing.3))] w-full"},a().createElement("div",{className:"relative"},a().createElement(w,{className:"absolute left-0 top-3 origin-left transition-opacity",style:{opacity:"var(--avatar-border-opacity, 0)",transform:"var(--avatar-border-transform)"}}),a().createElement(k,{large:!0,className:"block h-16 w-16 origin-left",style:{transform:"var(--avatar-image-transform)"},memberId:b.id,version:S}))))),a().createElement("div",{ref:N,className:"top-0 z-10 h-16 pt-6",style:{position:"var(--header-position)"}},a().createElement(l.W,{className:"top-[var(--header-top,theme(spacing.6))] w-full"},a().createElement("div",{className:"relative flex gap-4"},a().createElement("div",{className:"flex flex-1"},!_&&a().createElement(w,null,a().createElement(k,{memberId:b.id,version:S}))),a().createElement("div",{className:"flex flex-1 justify-end md:justify-center"},a().createElement(g,{className:"pointer-events-auto md:hidden",links:R}),a().createElement(x,{className:"pointer-events-auto hidden md:block",links:R,activeRoute:u})),a().createElement("div",{className:"flex justify-end md:flex-1"},"bilingual"===h?a().createElement("div",{className:"pointer-events-auto"},a().createElement(O,{setLang:y,activeLang:p,activeRoute:u,targetRoute:f})):null))))),_&&a().createElement("div",{style:{height:"var(--content-offset)"}}))}},39:(e,t,r)=>{r.d(t,{ZX:()=>u,bG:()=>s,pf:()=>m,rM:()=>f});var n=r(797);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var i=["_attributes","itemId"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e,t){var r=function(e){if(e){var t=e._attributes,r=(e.itemId,function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,i)),n={};if(t){var a=t.avatar,o=t.banner;a&&(n.avatar=Object.values(a)[0]),o&&(n.banner=Object.values(o)[0])}return l(l({},r),n)}return{}};return(0,n.getProfileSection)("members",e,t).then((function(e){if(1===e.length){var t=e[0].value;if(1===t.length)return r(t[0]);if(t.length>1)return t.map((function(e){return r(e)}))}else if(e.length>1){var n={};return e.forEach((function(e){var t=e.name,a=e.value;1===a.length?n[t]=r(a[0]):a.length>1&&a.forEach((function(e){n[t]?n[t].push(r(e)):n[t]=[r(e)]}))})),n}return{}}))},u=function(e){var t=[],r=function(e){var t,r=e.url,n=e.website_type,a=e.link_name;return{logoSrc:"img/icons/social_media/".concat(null===(t=n.other_values)||void 0===t?void 0:t[2]),name:n.value,url:r.value,label:a.value}};return e&&(Array.isArray(e)?e.forEach((function(e){t.push(r(e))})):t.push(r(e))),t},m=function(e){return(0,n.getProfiles)("articles","profile",{filter:{sql:["AND",["=","owner_id",parseInt(e)]]}})},f=function(e){var t=[];return(0,n.getProfile)("members",e,!1,!1,"cv").then((function(e){var r=e.find((function(e){return"employment"===e.name}));if(r){var n=Object.values(r.subsections).find((function(e){return"academic_work_experience"===e.name}));n&&n.value.forEach((function(e){var r=e.position_title,n=e.start_date,a=e.end_date,i=e.organization;console.log(e),t.push({position_title:r.value,start_date:n.value,end_date:a.value||"Present",organization:i.value?i.value.split("|").join(" "):""})}))}return t}))}}}]);